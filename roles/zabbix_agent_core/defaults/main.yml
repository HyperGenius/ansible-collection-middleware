---
# Zabbix Agent 2 Core Role - Default Variables

# Zabbix version to install
zabbix_agent_core_version: "7.0"

# Zabbix Server IP addresses for passive checks (comma-separated)
zabbix_agent_core_server: "127.0.0.1"

# Zabbix Server IP addresses for active checks (comma-separated)
zabbix_agent_core_server_active: "127.0.0.1"

# Hostname as it appears in Zabbix (defaults to inventory_hostname)
zabbix_agent_core_hostname: "{{ inventory_hostname }}"

# Host metadata for auto-registration
# Linux default
zabbix_agent_core_host_metadata: "{{ 'Windows' if ansible_os_family == 'Windows' else 'Linux' }}"

# Listen port for passive checks
zabbix_agent_core_listen_port: 10050

# Configuration file paths (OS-specific)
zabbix_agent_core_config_file_linux: "/etc/zabbix/zabbix_agent2.conf"
zabbix_agent_core_config_file_windows: 'C:\Program Files\Zabbix Agent 2\zabbix_agent2.conf'

# Include directory for additional configuration (Linux)
zabbix_agent_core_include_dir: "/etc/zabbix/zabbix_agent2.d"

# Log file paths (OS-specific)
zabbix_agent_core_log_file_linux: "/var/log/zabbix/zabbix_agent2.log"
zabbix_agent_core_log_file_windows: 'C:\Program Files\Zabbix Agent 2\zabbix_agent2.log'

# Service name
zabbix_agent_core_service_name_linux: "zabbix-agent2"
zabbix_agent_core_service_name_windows: "Zabbix Agent 2"

# Repository configuration (Linux)
zabbix_agent_core_repo_base_url: >-
  https://repo.zabbix.com/zabbix/{{ zabbix_agent_core_version }}/release/rhel/{{ ansible_distribution_major_version }}/noarch
zabbix_agent_core_repo_file_name: >-
  zabbix-release-latest-{{ zabbix_agent_core_version }}.el{{ ansible_distribution_major_version }}.noarch.rpm
zabbix_agent_core_repo_rpm_url: >-
  {{ zabbix_agent_core_repo_base_url }}/{{ zabbix_agent_core_repo_file_name }}

# Windows installer configuration
zabbix_agent_core_windows_version: "7.0.6"
zabbix_agent_core_windows_installer_url: >-
  https://cdn.zabbix.com/zabbix/binaries/stable/{{ zabbix_agent_core_version }}/
  {{ zabbix_agent_core_windows_version }}/
  zabbix_agent2-{{ zabbix_agent_core_windows_version }}-windows-amd64-openssl.msi
zabbix_agent_core_windows_installer_path: 'C:\Windows\Temp\zabbix_agent2.msi'

# Firewall configuration
zabbix_agent_core_configure_firewall: true

# Service state
zabbix_agent_core_service_state: started
zabbix_agent_core_service_enabled: true
