---
# 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’ä½œæˆ
- name: Create Sample Database
  community.postgresql.postgresql_db:
    name: "sample_db"
    state: present
  become_user: "{{ postgresql_core_user }}"

# 2. ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’ä½œæˆ
- name: Create Sample Table (users)
  community.postgresql.postgresql_query:
    db: "sample_db"
    query: |
      CREATE TABLE IF NOT EXISTS users (
          id SERIAL PRIMARY KEY,
          username VARCHAR(50) NOT NULL,
          created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
      );
    # ğŸ“ å‚™è€ƒ: å†ªç­‰æ€§ç¢ºä¿ã®ãŸã‚ CREATE IF NOT EXISTS ã‚’ä½¿ç”¨
  become_user: "{{ postgresql_core_user }}"
